
jQuery(document).ready((function(e){"use strict";let i,a,t;e(document).on("click",".reviews-images-item",(function(){let s=e(this);if(s.closest(".kt-reviews-image-container").hasClass("kt-reviews-image-container-image-popup-below_thumb")){let s,r;t=e(this).parent().parent(),s=parseInt(t.find(".wcpr-rotate-value").val());let n=t.find(".big-review-images");if(e(this).hasClass("active-image"))n.hide(),e(this).removeClass("active-image");else{i=e(this).data("index"),a=e(this).parent().find(".reviews-images-item").length,e(this).parent().find(".reviews-images-item").removeClass("active-image"),e(this).addClass("active-image");let s="";s=e(this).find(".reviews-iframe").length?'<iframe class="reviews-images reviews-iframe" src="'+e(this).data("image_src")+'" frameborder="0" style="float:left;display: block;border-radius: 3px;" allowfullscreen></iframe>':e(this).find(".review-videos").length?'<video class="reviews-images reviews-videos" width="100%" src="'+e(this).data("image_src")+'" controls></video>':'<img class="big-review-images-content-img" style="float:left;display: block;border-radius: 3px;" src="'+e(this).data("image_src")+'">',t.find(".big-review-images-content").html(s),n.css({display:"table"}),t.find(".wcpr-review-image-caption").html(e(this).data("image_caption"))}s&&(r=t.find(".big-review-images-content-container"),r.css({transform:"rotate("+s+"deg)"}))}else{let i=s.find(".review-images").closest(".kt-wc-reviews-images-wrap-wrap"),a=[];i.find(".reviews-images-item").map((function(){let t=e(this).find(".review-images"),s=e(this).data("image_src")?e(this).data("image_src"):t.attr("src"),r=e(this).data("image_caption")?e(this).data("image_caption"):parseInt(e(this).data("index"))+1+"/"+i.find(".reviews-images-item").length;a.push({href:s,title:r})})),e.swipebox(a,{hideBarsDelay:1e5,initialIndexOnArray:s.data("index")})}})),e(document).on("click",".big-review-images-content-img",(function(){let i=e(this).closest(".kt-reviews-image-container").find(".kt-wc-reviews-images-wrap-wrap"),a=[];i.find(".reviews-images-item").map((function(){let t=e(this).find(".review-images"),s=e(this).data("image_src")?e(this).data("image_src"):t.attr("src"),r=e(this).data("image_caption")?e(this).data("image_caption"):parseInt(e(this).data("index"))+1+"/"+i.find(".reviews-images-item").length;a.push({href:s,title:r})})),e.swipebox(a,{hideBarsDelay:1e5,initialIndexOnArray:i.find(".active-image").data("index")})})),e(document).on("click",".wcpr-next-normal",(function(){let s,r;t=e(this).parent().parent(),s=parseInt(t.find(".wcpr-rotate-value").val()),i=t.find(".active-image").data("index"),a=t.find(".reviews-images-item").length,t.find(".reviews-images-item").removeClass("active-image"),i<a-1?i++:i=0,t.find(".reviews-images-item").eq(i).addClass("active-image"),t.find(".big-review-images-content").html("");let n=t.find(".big-review-images"),m="";m=t.find(".active-image .reviews-iframe").length?'<iframe class="reviews-images reviews-iframe" src="'+t.find(".reviews-images-item").eq(i).data("image_src")+'" frameborder="0" style="float:left;display: block;border-radius: 3px;" allowfullscreen></iframe>':t.find(".active-image .review-videos").length?'<video class="reviews-images reviews-videos" width="100%" src="'+t.find(".reviews-images-item").eq(i).data("image_src")+'" controls></video>':'<img class="big-review-images-content-img" style="float:left;display: block;border-radius: 3px;" src="'+t.find(".reviews-images-item").eq(i).data("image_src")+'">',n.find(".big-review-images-content").append(m),n.css({display:"table"}),t.find(".wcpr-review-image-caption").html(t.find(".reviews-images-item").eq(i).data("image_caption")),s&&(r=t.find(".big-review-images-content-container"),r.css({transform:"rotate("+s+"deg)"}))})),e(document).on("click",".wcpr-prev-normal",(function(){let s,r;t=e(this).parent().parent(),s=parseInt(t.find(".wcpr-rotate-value").val()),i=t.find(".active-image").data("index"),a=t.find(".reviews-images-item").length,t.find(".reviews-images-item").removeClass("active-image"),i>0?i--:i=a-1,t.find(".reviews-images-item").eq(i).addClass("active-image"),t.find(".big-review-images-content").html("");let n=t.find(".big-review-images"),m="";m=t.find(".active-image .reviews-iframe").length?'<iframe class="reviews-images reviews-iframe" src="'+t.find(".reviews-images-item").eq(i).data("image_src")+'" frameborder="0" style="float:left;display: block;border-radius: 3px;" allowfullscreen></iframe>':t.find(".active-image .review-videos").length?'<video class="reviews-images reviews-videos" width="100%" src="'+t.find(".reviews-images-item").eq(i).data("image_src")+'" controls></video>':'<img class="big-review-images-content-img" style="float:left;display: block;border-radius: 3px;" src="'+t.find(".reviews-images-item").eq(i).data("image_src")+'">',n.find(".big-review-images-content").append(m),n.css({display:"table"}),t.find(".wcpr-review-image-caption").html(t.find(".reviews-images-item").eq(i).data("image_caption")),s&&(r=t.find(".big-review-images-content-container"),r.css({transform:"rotate("+s+"deg)"}))})),e(document).on("click",".wcpr-close-normal",(function(){t=e(this).parent().parent(),e(this).parent().hide(),t.find(".kt-wc-reviews-images-wrap-wrap").find(".active-image").removeClass("active-image")})),e(document).on("click",".wcpr-rotate-left",(function(){let i,a;t=e(this).parent().parent(),i=parseInt(t.find(".wcpr-rotate-value").val()),a=t.find(".big-review-images-content-container"),i+=-90,t.find(".wcpr-rotate-value").val(i),a.css({transform:"rotate("+i+"deg)"})})),e(document).on("click",".wcpr-rotate-right",(function(){let i,a;t=e(this).parent().parent(),i=parseInt(t.find(".wcpr-rotate-value").val()),a=t.find(".big-review-images-content-container"),i+=90,t.find(".wcpr-rotate-value").val(i),a.css({transform:"rotate("+i+"deg)"})}));let s=woocommerce_photo_reviews_params.hasOwnProperty("comments_container_id")?woocommerce_photo_reviews_params.comments_container_id:"comments",r=e(".wcpr-filter-container");e("#"+s).prepend(r).prepend(e(".wcpr-overall-rating-and-rating-count")).prepend(e(".woocommerce-Reviews-title").eq(0))}));



jQuery(window).on("elementor/frontend/init",()=>{"use strict";elementorFrontend.hooks.addAction("frontend/element_ready/woocommerce-photo-reviews.default",function($scope){if(!window.elementor){return}wcpr_helpful_button();viwcpr_flexslider()})});jQuery(document).ready(function($){"use strict";let image_caption_enable=woocommerce_photo_reviews_params.image_caption_enable==1;let i18n_image_caption=woocommerce_photo_reviews_params.i18n_image_caption;function getSelectedImageHtml(src,name,error="",index){let selectImageHtml;let temp=`<img title="${name}" src="${src}" class="wcpr-selected-image-preview">`;if(src.indexOf("data:video/")>-1){temp=`<video class="wcpr-selected-image-preview" height="100%" width="100%" src="${src}" controls >${name}</video>`}if(error){selectImageHtml=`<div class="wcpr-selected-image">${temp}<div class="wcpr-selected-image-info"><div class="wcpr-selected-image-name wcpr-comment-form-error" >${error}</div></div></div>`}else if(image_caption_enable){selectImageHtml=`<div class="wcpr-selected-image">${temp}<div class="wcpr-selected-image-info"><div class="wcpr-selected-image-name" title="${name}">${name}</div><input class="wcpr-selected-image-caption" type="text" name="wcpr_image_caption[${index}]" placeholder="${i18n_image_caption}"></div></div>`}else{selectImageHtml=`<div class="wcpr-selected-image">${temp}<div class="wcpr-selected-image-info"><div class="wcpr-selected-image-name" title="${name}">${name}</div></div></div>`}return selectImageHtml}function readURL(input){let max_file_size=1024*parseFloat(woocommerce_photo_reviews_params.max_file_size);for(let i=0;i<input.files.length;i++){var reader=new FileReader;const dt=new DataTransfer;const file=input.files[i];dt.items.add(file);reader.onload=function(e){let error="";if(input.files[i].size>max_file_size){error=woocommerce_photo_reviews_params.warning_max_file_size.replace("%file_name%",input.files[i].name)}else if(woocommerce_photo_reviews_params.upload_allow.indexOf(input.files[i].type)===-1){error=woocommerce_photo_reviews_params.warning_upload_allow.replace("%file_name%",input.files[i].name)}if(woocommerce_photo_reviews_params.image_caption_enable==1){const fileInput=$("<input>").attr("type","file").attr("class","wcpr-hidden").attr("name",`wcpr_image_upload[${i}]`)[0];fileInput.files=dt.files;$(input).parent().find(".wcpr-selected-image-container").append(getSelectedImageHtml(e.target.result,input.files[i].name,error,i)).append(fileInput)}else{$(input).parent().find(".wcpr-selected-image-container").append(getSelectedImageHtml(e.target.result,input.files[i].name,error,i))}};reader.readAsDataURL(input.files[i])}}wcpr_helpful_button();viwcpr_flexslider();let max_files=woocommerce_photo_reviews_params.max_files;$("#commentform").on("change",".wcpr_image_upload",function(e){$(this).parent().find(".wcpr-selected-image-container").html("");if(this.files.length>max_files){jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.warning_max_files);$(this).val("");return false}else if(this.files.length>0){jQuery(".wcpr-comment-form-error-wraps").addClass("wcpr-hidden");readURL(this)}});jQuery(document).on("click",".wcpr_image_upload_button",function(e){e.preventDefault();e.stopPropagation();jQuery(this).parent().find(".wcpr_image_upload").trigger("click")});$("#commentform").find('input[type="submit"]').on("click",function(e){let $button=$(this);if($button.hasClass("viwcpr_form_checked")||!$("#wcpr_image_upload_nonce").length){return true}let $container=$button.closest("form");let $content=$container.find('textarea[id="comment"]')||$container.find('textarea[name="comment"]');let $name=$container.find('input[name="author"]');let $email=$container.find('input[name="email"]');jQuery(".wcpr-comment-form-error-wraps").addClass("wcpr-hidden");jQuery(".wcpr-comment-form-notify-wraps").addClass("wcpr-hidden");let $rating=$container.find("#rating"),rating=$rating.val();if($rating.length>0&&!rating&&woocommerce_photo_reviews_params.review_rating_required==="yes"){jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.i18n_required_rating_text);e.preventDefault();return false}if($content.length>0){let comment=$content.val();if(!comment&&woocommerce_photo_reviews_params.allow_empty_comment!=1){jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.i18n_required_comment_text);e.preventDefault();$content.focus();return false}let minimum_comment_length=parseInt(woocommerce_photo_reviews_params.minimum_comment_length);if(minimum_comment_length&&minimum_comment_length>comment.length){jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.i18n_minimum_comment_text);e.preventDefault();$content.focus();return false}}if($name.length>0&&$name.attr("required")&&!$name.val()){jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.i18n_required_name_text);e.preventDefault();$name.focus();return false}if($email.length>0&&$email.attr("required")&&!$email.val()){jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.i18n_required_email_text);e.preventDefault();$email.focus();return false}if($container.find('input[name="wcpr_gdpr_checkbox"]').prop("checked")===false){jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.warning_gdpr);e.preventDefault();return false}if("on"===woocommerce_photo_reviews_params.enable_photo){if(!$container.attr("enctype")||$container.attr("enctype")!=="multipart/form-data"){$container.attr("enctype","multipart/form-data")}let $fileUpload=$container.find(".wcpr_image_upload");if($fileUpload.length>0){let file_upload=$fileUpload.get(0).files;let imagesCount=parseInt(file_upload.length);if("on"===woocommerce_photo_reviews_params.required_image&&imagesCount===0){jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.warning_required_image);e.preventDefault();return false}if(imagesCount>max_files){jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.warning_max_files);e.preventDefault();return false}let error=[],max_file_size=1024*parseFloat(woocommerce_photo_reviews_params.max_file_size);jQuery.each(file_upload,function(k,v){if(v.size>max_file_size){error.push("<p>"+woocommerce_photo_reviews_params.warning_max_file_size.replace("%file_name%",v.name)+"</p>");return true}if(woocommerce_photo_reviews_params.upload_allow.indexOf(v.type)===-1){error.push("<p>"+woocommerce_photo_reviews_params.warning_upload_allow.replace("%file_name%",v.name)+"</p>")}});if(error.length){jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(error.join(""));e.preventDefault();return false}}else if("on"===woocommerce_photo_reviews_params.required_image){jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(woocommerce_photo_reviews_params.warning_required_image);e.preventDefault();return false}}jQuery(".wcpr-comment-form-notify-wraps").removeClass("wcpr-hidden");if(woocommerce_photo_reviews_params.restrict_number_of_reviews){$button.attr("type","button");let restrict_number_of_reviews=async function(){let error="",data=new FormData($container[0]);if($content.val()&&!$container.find('textarea[name="comment"]').val()){data.set("comment",$content.val())}await new Promise(function(resolve){$.ajax({type:"post",url:woocommerce_photo_reviews_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcpr_restrict_number_of_reviews"),processData:false,cache:false,contentType:false,data:data,success:function(response){if(response.error){error=response.error}else{if(response.remove_upload_file){$container.find(".wcpr_image_upload").val("")}if(response.img_id){$container.append(`<input type="hidden" name="wcpr_image_upload_id" value="${response.img_id}">`)}}resolve(error)},error:function(err){error=err.responseText==="-1"?err.statusText:err.responseText;resolve(error)}})});return error};restrict_number_of_reviews().then(function(error){$button.attr("type","submit");if(error){jQuery(".wcpr-comment-form-notify-wraps").addClass("wcpr-hidden");jQuery(".wcpr-comment-form-error-wraps").removeClass("wcpr-hidden").html(error);e.preventDefault();return false}else{$button.addClass("viwcpr_form_checked").trigger("click")}})}});let comments=woocommerce_photo_reviews_params.hasOwnProperty("comments_container_id")?woocommerce_photo_reviews_params.comments_container_id:"comments";let $comments=$("#"+comments);if($comments.length>0){append_filters_and_overall_rating();handle_ajax_pagination_and_loadmore()}else{$(document).on("skeleton-loaded",function(){$comments=$("#"+comments);append_filters_and_overall_rating();handle_ajax_pagination_and_loadmore()})}$(document).on("click",".reviews_tab",function(){$comments=$("#"+comments);append_filters_and_overall_rating()});function handle_ajax_pagination_and_loadmore(){if(woocommerce_photo_reviews_params.pagination_ajax&&$comments.length){let $pagination_container=$comments.find(".woocommerce-pagination");if(woocommerce_photo_reviews_params.loadmore_button){$pagination_container.html(jQuery(".wcpr-load-more-reviews-button-modal").html());wcpr_pagination_loadmore($comments,$comments.find(".woocommerce-pagination"))}else{wcpr_pagination_basic($comments,$comments.find(".woocommerce-pagination"))}}else if(jQuery(".et_divi_theme").length){jQuery("a.wcpr-filter-button").on("click",function(){location.href=jQuery(this).attr("href")})}}function append_filters_and_overall_rating(){$comments.prepend($(".wcpr-filter-container")).prepend($(".wcpr-overall-rating-and-rating-count")).prepend($(".woocommerce-Reviews-title").eq(0))}function wcpr_pagination_basic($comments,$pagination_container){$comments=jQuery($comments);$pagination_container=jQuery($pagination_container);let ajax_pagination_running=false;jQuery(document).on("click",".woocommerce-pagination a",function(e){if(ajax_pagination_running){return false}e.preventDefault();e.stopPropagation();let $container=woocommerce_photo_reviews_params.display==="1"?$comments.find(".wcpr-grid"):$comments.find(woocommerce_photo_reviews_params.container);let scrollTop=parseInt($container.offset().top)-200;window.scrollTo({top:scrollTop,behavior:"smooth"});ajax_pagination_running=true;let url=jQuery(this).attr("href");if(!$container.find(".wcpr-grid-overlay").length){$container.append('<div class="wcpr-grid-overlay wcpr-hidden"></div>')}let $overlay=$container.find(".wcpr-grid-overlay");$overlay.removeClass("wcpr-hidden");jQuery.ajax({url:url,type:"get",success:function(response){if(response){let $reg;let temp_html=jQuery(response);if(woocommerce_photo_reviews_params.display==="1"){$container.html(temp_html.find(".wcpr-grid").html())}else{$container.html(temp_html.find(woocommerce_photo_reviews_params.container).html())}if(temp_html.find(".woocommerce-pagination").length){$pagination_container.html(temp_html.find(".woocommerce-pagination").html())}jQuery(document.body).trigger("wcpr_ajax_pagination_end")}$overlay.addClass("wcpr-hidden");ajax_pagination_running=false},error:function(err){ajax_pagination_running=false;$overlay.addClass("wcpr-hidden")}})});let $filters=$comments.find(".wcpr-filter-container");if(!$filters.length){return false}if(jQuery(".et_divi_theme").length){jQuery("a.wcpr-filter-button").on("click",function(e){e.preventDefault();e.stopPropagation();let $button=jQuery(this);if(ajax_pagination_running||parseInt($button.find(".wcpr-filter-button-count").html())===0&&!$button.hasClass("wcpr-active")){return false}ajax_pagination_running=true;e.preventDefault();let url=jQuery(this).attr("href");let $container=woocommerce_photo_reviews_params.display==="1"?$comments.find(".wcpr-grid"):$comments.find(woocommerce_photo_reviews_params.container);if($container.length===0){if(woocommerce_photo_reviews_params.display==="1"){$comments.append('<div class="'+woocommerce_photo_reviews_params.grid_class+'"><div class="wcpr-grid-overlay"></div></div>');$container=$comments.find(".wcpr-grid")}else{let first_char=woocommerce_photo_reviews_params.container.substr(0,1);if(first_char==="."){$comments.append('<ol class="'+woocommerce_photo_reviews_params.container.substr(1)+'"></ol>')}else{$comments.append('<ol id="'+woocommerce_photo_reviews_params.container.substr(1)+'"></ol>')}$container=$comments.find(woocommerce_photo_reviews_params.container)}$comments.find(".woocommerce-noreviews").hide()}if(!$container.find(".wcpr-grid-overlay").length){$container.append('<div class="wcpr-grid-overlay wcpr-hidden"></div>')}let $overlay=$container.find(".wcpr-grid-overlay");$overlay.removeClass("wcpr-hidden");$filters.addClass("wcpr-filter-loading");jQuery.ajax({url:url,type:"get",data:{wcpr_is_ajax:1},success:function(response){if(response){response=response.replace(/(\r\n\t|\n|\r\t)/gm,"");let $reg,match;let temp_html=jQuery(response);if(woocommerce_photo_reviews_params.display==="1"){$container.html(temp_html.find(".wcpr-grid").html())}else{$container.html(temp_html.find(woocommerce_photo_reviews_params.container).html())}if(temp_html.find(".woocommerce-pagination").length){if($pagination_container&&$pagination_container.length){$pagination_container.html(temp_html.find(".woocommerce-pagination").html())}else{$comments.append('<nav class="woocommerce-pagination">'+temp_html.find(".woocommerce-pagination").html()+"</nav>");$pagination_container=$comments.find(".woocommerce-pagination")}}else{if($pagination_container&&$pagination_container.length>0){$pagination_container.remove();$pagination_container=null}}if(typeof woocommerce_photo_reviews_params.wrap_filters!=="undefined"){const className=woocommerce_photo_reviews_params.wrap_filters.trim();const classRegexSafe=className.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&").replace(/\s+/g,"\\s+");$reg=new RegExp(`<div class="${classRegexSafe}"\\s*style="display:\\s*none;">([^]+?)<\\/div>`,"gm")}else{$reg=/<div class="wcpr-filter-container" style="display: none;">([^]+?)<\/div>/gm}match=$reg.exec(response);if(match!=null){$filters.html(match[1])}jQuery(document.body).trigger("wcpr_ajax_pagination_end")}},error:function(err){console.log(err)},complete:function(){ajax_pagination_running=false;$overlay.addClass("wcpr-hidden");$filters.removeClass("wcpr-filter-loading")}})})}else{jQuery(document).on("click","a.wcpr-filter-button",function(e){e.preventDefault();e.stopPropagation();let $button=jQuery(this);if(ajax_pagination_running||parseInt($button.find(".wcpr-filter-button-count").html())===0&&!$button.hasClass("wcpr-active")){return false}ajax_pagination_running=true;e.preventDefault();let url=jQuery(this).attr("href");let $container=woocommerce_photo_reviews_params.display==="1"?$comments.find(".wcpr-grid"):$comments.find(woocommerce_photo_reviews_params.container);if($container.length===0){if(woocommerce_photo_reviews_params.display==="1"){$comments.append('<div class="'+woocommerce_photo_reviews_params.grid_class+'"><div class="wcpr-grid-overlay"></div></div>');$container=$comments.find(".wcpr-grid")}else{let first_char=woocommerce_photo_reviews_params.container.substr(0,1);if(first_char==="."){$comments.append('<ol class="'+woocommerce_photo_reviews_params.container.substr(1)+'"></ol>')}else{$comments.append('<ol id="'+woocommerce_photo_reviews_params.container.substr(1)+'"></ol>')}$container=$comments.find(woocommerce_photo_reviews_params.container)}$comments.find(".woocommerce-noreviews").hide()}if(!$container.find(".wcpr-grid-overlay").length){$container.append('<div class="wcpr-grid-overlay wcpr-hidden"></div>')}let $overlay=$container.find(".wcpr-grid-overlay");$overlay.removeClass("wcpr-hidden");$filters.addClass("wcpr-filter-loading");jQuery.ajax({url:url,type:"get",data:{wcpr_is_ajax:1},success:function(response){if(response){response=response.replace(/(\r\n\t|\n|\r\t)/gm,"");let $reg,match;let temp_html=jQuery(response);if(woocommerce_photo_reviews_params.display==="1"){$container.html(temp_html.find(".wcpr-grid").html())}else{$container.html(temp_html.find(woocommerce_photo_reviews_params.container).html())}if(temp_html.find(".woocommerce-pagination").length){if($pagination_container&&$pagination_container.length){$pagination_container.html(temp_html.find(".woocommerce-pagination").html())}else{$comments.append('<nav class="woocommerce-pagination">'+temp_html.find(".woocommerce-pagination").html()+"</nav>");$pagination_container=$comments.find(".woocommerce-pagination")}}else{if($pagination_container&&$pagination_container.length>0){$pagination_container.remove();$pagination_container=null}}if(typeof woocommerce_photo_reviews_params.wrap_filters!=="undefined"){const className=woocommerce_photo_reviews_params.wrap_filters.trim();const classRegexSafe=className.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&").replace(/\s+/g,"\\s+");$reg=new RegExp(`<div class="${classRegexSafe}"\\s*style="display:\\s*none;">([^]+?)<\\/div>`,"gm")}else{$reg=/<div class="wcpr-filter-container" style="display: none;">([^]+?)<\/div>/gm}match=$reg.exec(response);if(match!=null){$filters.html(match[1])}jQuery(document.body).trigger("wcpr_ajax_pagination_end")}},error:function(err){console.log(err)},complete:function(){ajax_pagination_running=false;$overlay.addClass("wcpr-hidden");$filters.removeClass("wcpr-filter-loading")}})})}}function wcpr_pagination_loadmore($comments,$pagination_container){$comments=jQuery($comments);$pagination_container=jQuery($pagination_container);let $filters=$comments.find(".wcpr-filter-container"),cpage=jQuery(".wcpr-load-more-reviews-cpage").val(),max_page=jQuery(".wcpr-load-more-reviews-cpage").data("max_page"),parent_post_id=jQuery(".wcpr-load-more-reviews-product-id").val(),rating=jQuery(".wcpr-load-more-reviews-rating").val(),verified=jQuery(".wcpr-load-more-reviews-verified").val(),image=jQuery(".wcpr-load-more-reviews-image").val(),$no_review=$comments.find(".woocommerce-noreviews"),$container=woocommerce_photo_reviews_params.display==="1"?$comments.find(".wcpr-grid"):$comments.find(woocommerce_photo_reviews_params.container);function handle_missing_container(){if($container.length===0){let first_char=woocommerce_photo_reviews_params.display==="1"?".":woocommerce_photo_reviews_params.container.substr(0,1);if(first_char==="."){$container=woocommerce_photo_reviews_params.display==="1"?jQuery('<div class="'+woocommerce_photo_reviews_params.grid_class+'"></div>'):jQuery('<ol class="'+woocommerce_photo_reviews_params.container.substr(1)+'"></ol>')}else{$container=jQuery('<ol id="'+woocommerce_photo_reviews_params.container.substr(1)+'"></ol>')}$comments.append($container)}}function handle_missing_pagination(){if($pagination_container.length===0){$comments.append('<nav class="woocommerce-pagination"></nav>');$pagination_container=$comments.find(".woocommerce-pagination")}}if(cpage&&parent_post_id){jQuery(document).on("click",".wcpr-load-more-reviews-button:not(.shortcode-wcpr-load-more-reviews-button):not(.wcpr-loading)",function(){let $button=jQuery(this);if($button.parent().hasClass("wcpr-hidden")){return false}if(cpage>-1){jQuery.ajax({url:woocommerce_photo_reviews_params.ajaxurl,data:{action:"wcpr_ajax_load_more_reviews",nonce:woocommerce_photo_reviews_params.nonce,post_id:parent_post_id,cpage:cpage,rating:rating,verified:verified,image:image,is_shortcode:"",frontend_style:woocommerce_photo_reviews_params.display},type:"POST",beforeSend:function(xhr){$button.addClass("wcpr-loading")},success:function(response){if(response.html){if(woocommerce_photo_reviews_params.display=="2"){$container.append(response.html)}else{let $html=jQuery(response.html);let review_html=$html.find('div[id^="comment-"]');$container.append(review_html)}if(woocommerce_photo_reviews_params.default_comments_page==="oldest"){if(cpage<max_page){cpage++}else{$button.parent().addClass("wcpr-hidden")}}else{if(cpage>1){cpage--}else{$button.parent().addClass("wcpr-hidden")}}}else{$button.parent().addClass("wcpr-hidden")}jQuery(document.body).trigger("wcpr_ajax_load_more_reviews_end")},complete:function(){$button.removeClass("wcpr-loading")}})}return false});let ajax_pagination_running=false;if($filters.length){let $filters_rating=$filters.find(".wcpr-filter-button-ul");jQuery(document).on("click","a.wcpr-filter-button",function(e){let $button=jQuery(this);let load_more_button=$button.closest("#comments").find(".wcpr-load-more-reviews-button:not(.shortcode-wcpr-load-more-reviews-button):not(.wcpr-loading)");if(ajax_pagination_running||parseInt($button.find(".wcpr-filter-button-count").html())===0&&!$button.hasClass("wcpr-active")){return false}if(woocommerce_photo_reviews_params.default_comments_page==="oldest"){cpage=1}else{cpage=""}let filter_type=$button.data("filter_type");switch(filter_type){case"all":if($button.hasClass("wcpr-active")){return false}else{rating=""}break;case"image":if($button.hasClass("wcpr-active")){image=""}else{image=1}break;case"verified":if($button.hasClass("wcpr-active")){verified=""}else{verified=1}break;default:if($button.hasClass("wcpr-active")){return false}else{rating=parseInt(filter_type)}}ajax_pagination_running=true;e.preventDefault();$filters.addClass("wcpr-filter-loading");jQuery.ajax({url:woocommerce_photo_reviews_params.ajaxurl,type:"POST",data:{action:"wcpr_ajax_load_more_reviews",post_id:parent_post_id,cpage:cpage,rating:rating,verified:verified,image:image,filter_type:filter_type,is_shortcode:"",frontend_style:woocommerce_photo_reviews_params.display},success:function(response){if(response.html){$no_review.hide();handle_missing_container()}if(woocommerce_photo_reviews_params.display=="2"){$container.html(response.html)}else{let $html=jQuery(response.html);let review_html=$html.find('div[id^="comment-"]');$container.html(review_html)}handle_missing_pagination();max_page=parseInt(response.max_page);if(!load_more_button.length){handle_ajax_pagination_and_loadmore()}$pagination_container.find(".wcpr-load-more-reviews-button").parent().removeClass("wcpr-hidden");if(woocommerce_photo_reviews_params.default_comments_page==="oldest"){if(cpage<max_page){cpage++}else{load_more_button.parent().addClass("wcpr-hidden")}}else{if(cpage>1){cpage--}else{load_more_button.parent().addClass("wcpr-hidden")}}let update_count=response.update_count;if(update_count){for(let i in update_count){if(update_count.hasOwnProperty(i)){$filters.find('.wcpr-filter-button[data-filter_type="'+i+'"]').find(".wcpr-filter-button-count").html(update_count[i])}}}$filters.find(".wcpr-filter-rating-placeholder .wcpr-filter-button-count").html(update_count.all);switch(filter_type){case"all":$filters_rating.find(".wcpr-filter-button").removeClass("wcpr-active");$button.addClass("wcpr-active");$filters.find(".wcpr-filter-rating-placeholder").html($button.html());break;case"image":case"verified":if($button.hasClass("wcpr-active")){$button.removeClass("wcpr-active")}else{$button.addClass("wcpr-active")}break;default:$filters_rating.find(".wcpr-filter-button").removeClass("wcpr-active");$button.addClass("wcpr-active");$filters.find(".wcpr-filter-rating-placeholder").html($button.html())}jQuery(document.body).trigger("wcpr_ajax_load_more_reviews_end")},error:function(err){console.log(err)},complete:function(){ajax_pagination_running=false;$filters.removeClass("wcpr-filter-loading")}})})}}}function viwcpr_flexslider(){"use strict";if(!jQuery(".woocommerce-photo-reviews-shortcode, .wcpr-review-title").length){setTimeout(function(){viwcpr_flexslider()},100);return false}jQuery(".woocommerce-photo-reviews-shortcode:not(.woocommerce-photo-reviews-slide)").each(function(){jQuery(this).addClass("woocommerce-photo-reviews-slide");if(!jQuery(this).data("wcpr_slide")){jQuery(this).addClass("woocommerce-photo-reviews-slide-none");return true}let rtl=false,now=Date.now(),params=jQuery(this).data("reviews_shortcode"),selector=".shortcode-wcpr-grid .shortcode-wcpr-grid-item";if(jQuery(this).find(".shortcode-wcpr-reviews").length){selector=".commentlist li"}if(!jQuery(this).find(".viwcpr-slide-wrap").length){jQuery(this).append('<div class="viwcpr-slide-wrap viwcpr-slide-wrap-'+now+'" data-id_css="viwcpr-slide-wrap-'+now+'"></div>');let tmp=jQuery(selector).parent().clone();jQuery(selector).parent().remove();jQuery(this).find(".viwcpr-slide-wrap").css({width:"100%",position:"relative"}).append(tmp)}if(jQuery(this).closest(".rtl").length){rtl=true}let wrap=jQuery(this).find(".viwcpr-slide-wrap");let wrap_width=wrap.innerWidth()?jQuery(this).parent().width():0,gap=parseInt(params.cols_gap||20),colums=parseInt(params.cols||4),colums_mobile=parseInt(params.cols_mobile||1);if(wrap_width<600&&wrap_width>=480){colums=colums>3?3:colums}if(wrap_width<480){colums=colums_mobile}jQuery(this).addClass("woocommerce-photo-reviews-slide-init");let itemWidth=wrap_width?(wrap_width-gap*colums)/colums:200;wrap.addClass("viwcpr-slide-wrap-init").removeData("flexslider").viwcaio_flexslider({namespace:"villatheme-slider-",selector:selector,animation:"slide",animationLoop:1,itemWidth:itemWidth,itemMargin:gap,controlNav:false,maxItems:colums,reverse:false,rtl:rtl,move:colums,touch:true,slideshow:false,start:function(slider){if(slider.count===slider.move){get_reviews(slider,1,params,selector).then(function(){slider.setProps(0)})}let id_css=slider.data("id_css"),css=`.${id_css} .viwse-suggestion-product-wrap{width: ${itemWidth}px !important;}`,h=0;for(let i=0;i<slider.move;i++){if(h<slider.find(selector).eq(i).innerHeight()){h=slider.find(selector).eq(i).innerHeight()}if(slider.find(selector).eq(i).find(".shortcode-reviews-images-wrap-right img").length){slider.find(selector).eq(i).find(".shortcode-reviews-images-wrap-right img").on("load",function(){if(!jQuery("#"+id_css).length){jQuery("head").append(`<style id="${id_css}"></style>`)}if(jQuery(this).closest(selector+":visible").length&&jQuery(this).closest(selector).innerHeight()&&slider.data("current_height")){let h_tmp=slider.find(selector).eq(i).innerHeight()+30;if(jQuery(this).closest(selector).innerHeight()>parseFloat(slider.data("current_height"))){let css_tmp=`.${id_css} .viwse-suggestion-product-wrap{width: ${itemWidth}px !important;}`;css_tmp+=`.${id_css} .villatheme-slider-viewport{height: ${h_tmp}px !important;}`;jQuery("#"+id_css).html(css_tmp);slider.data("current_height",h_tmp)}}})}}if(h){h+=30;css+=`.${id_css} .villatheme-slider-viewport{height: ${h}px !important;}`}if(!jQuery("#"+id_css).length){jQuery("head").append(`<style id="${id_css}"></style>`)}jQuery("#"+id_css).html(css);slider.data("current_height",h)},before:function(slider){slider.removeClass("viwcpr-slide-wrap-init")},after:function(slider){if(slider.hasClass("viwcpr-slide-wrap-init")){return true}slider.addClass("viwcpr-slide-wrap-init");let id_css=slider.data("id_css"),css=`.${id_css} .viwse-suggestion-product-wrap{width: ${itemWidth}px !important;}`,first=slider.currentSlide*slider.move,last=(slider.currentSlide+1)*slider.move,h=0;slider.find(selector).css({"margin-bottom":"0","margin-top":"0",width:`${itemWidth}px !important;`});if(first===last){h=slider.find(selector).eq(first).innerHeight();if(slider.find(selector).eq(first).find(".shortcode-reviews-images-wrap-right img").length){slider.find(selector).eq(first).find(".shortcode-reviews-images-wrap-right img").on("load",function(){if(!jQuery("#"+id_css).length){jQuery("head").append(`<style id="${id_css}"></style>`)}if(jQuery(this).closest(selector+":visible").length&&jQuery(this).closest(selector).innerHeight()&&slider.data("current_height")){let h_tmp=slider.find(selector).eq(i).innerHeight()+30;if(jQuery(this).closest(selector).innerHeight()>parseFloat(slider.data("current_height"))){let css_tmp=`.${id_css} .viwse-suggestion-product-wrap{width: ${itemWidth}px !important;}`;css_tmp+=`.${id_css} .villatheme-slider-viewport{height: ${h_tmp}px !important;}`;jQuery("#"+id_css).html(css_tmp);slider.data("current_height",h_tmp)}}})}}else{for(let i=first;i<last;i++){if(h<slider.find(selector).eq(i).innerHeight()){h=slider.find(selector).eq(i).innerHeight()}if(slider.find(selector).eq(i).find(".shortcode-reviews-images-wrap-right img").length){slider.find(selector).eq(i).find(".shortcode-reviews-images-wrap-right img").on("load",function(){if(!jQuery("#"+id_css).length){jQuery("head").append(`<style id="${id_css}"></style>`)}if(jQuery(this).closest(selector+":visible").length&&jQuery(this).closest(selector).innerHeight()&&slider.data("current_height")){let h_tmp=slider.find(selector).eq(i).innerHeight()+30;if(jQuery(this).closest(selector).innerHeight()>parseFloat(slider.data("current_height"))){let css_tmp=`.${id_css} .viwse-suggestion-product-wrap{width: ${itemWidth}px !important;}`;css_tmp+=`.${id_css} .villatheme-slider-viewport{height: ${h_tmp}px !important;}`;jQuery("#"+id_css).html(css_tmp);slider.data("current_height",h_tmp)}}})}}}if(h){h+=30;css+=`.${id_css} .villatheme-slider-viewport{height: ${h}px !important;}`;slider.data("current_height",h)}if(!jQuery("#"+id_css).length){jQuery("head").append(`<style id="${id_css}"></style>`)}jQuery("#"+id_css).html(css)},end:function(slider){let total_pages=parseInt(slider.find(".wcpr-reviews-total-pages").html()||slider.closest(".woocommerce-photo-reviews-shortcode").find(".wcpr-reviews-total-pages").html()),current_page=Math.ceil(slider.find(selector).length/parseInt(params.comments_per_page||1));if(total_pages>current_page){let current=slider.limit;get_reviews(slider,current_page,params,selector).then(function(){slider.setProps(current)})}}})});let get_reviews=async function(slider,current_page,params,selector){await new Promise(function(resolve){jQuery.ajax({url:woocommerce_photo_reviews_params.ajaxurl,type:"get",data:{action:"woocommerce_photo_reviews_shortcode_ajax_get_reviews",nonce:woocommerce_photo_reviews_params.nonce,reviews_shortcode:JSON.stringify(params),wcpr_page:current_page+1,wcpr_image:slider.data("wcpr_image"),wcpr_verified:slider.data("wcpr_verified"),wcpr_rating:slider.data("wcpr_rating")},beforeSend:function(){slider.closest(".woocommerce-photo-reviews-shortcode").addClass("woocommerce-photo-reviews-shortcode-loading")},success:function(response){let temp=jQuery("<div></div>");temp.append(response.html);temp.find(selector).each(function(k,v){slider.addSlide(jQuery(v))});slider.closest(".woocommerce-photo-reviews-shortcode").removeClass("woocommerce-photo-reviews-shortcode-loading");resolve(slider)},error:function(err){resolve(slider);slider.closest(".woocommerce-photo-reviews-shortcode").removeClass("woocommerce-photo-reviews-shortcode-loading")}})})};jQuery(".wcpr-grid .wcpr-grid-item").last().css("display","inline-block");jQuery(".shortcode-wcpr-grid .shortcode-wcpr-grid-item").last().css("display","inline-block");if(jQuery("#wcpr_thank_you_message").length){setTimeout(function(){jQuery(".reviews_tab a").trigger("click");setTimeout(function(){window.scrollTo({top:jQuery("#review_form").offset().top-450})})},100)}}function wcpr_helpful_button(){"use strict";let popup_button=[".wcpr-single-product-summary .single_add_to_cart_button:not(.vicatna-single-atc-button):not(.vi-wcaio-product-bt-atc-loading)",".shortcode-wcpr-single-product-summary .single_add_to_cart_button:not(.vicatna-single-atc-button):not(.vi-wcaio-product-bt-atc-loading)"];jQuery(document).on("click",popup_button.join(","),function(e){if(!woocommerce_photo_reviews_params.ajax_atc){return true}e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();let button=jQuery(this),form=jQuery(this).closest("form.cart");button.addClass("vi-wcaio-product-bt-atc-loading");if(!form.length||button.hasClass("disabled")){button.removeClass("vi-wcaio-product-bt-atc-loading");return false}if(form.hasClass(".variations_form")){let variation_id_check=parseInt(form.find("input[name=variation_id]").val());if(!variation_id_check||variation_id_check<=0){button.removeClass("vi-wcaio-product-bt-atc-loading");return false}}let product_id=form.find("input[name=product_id]").val();if(!product_id){product_id=form.find("[name=add-to-cart]").val()}if(!product_id||form.find('[name="woopb-add-to-cart"]').length){button.attr("type","submit").trigger("click");return false}let data={};form.find("select, textarea, input").each(function(){if(jQuery(this).prop("disabled")){return true}if(["checkbox","radio"].indexOf(jQuery(this).attr("type"))>-1&&!jQuery(this).prop("checked")){return true}let name=jQuery(this).attr("name");if(name){data[name]=jQuery(this).val()}});if(!data["add-to-cart"]){data["add-to-cart"]=form.find("[name=add-to-cart]").val()}jQuery(document.body).trigger("adding_to_cart",[button,data]);if(!woocommerce_photo_reviews_params["ajax_atc_event"]){woocommerce_photo_reviews_params["ajax_atc_event"]=[]}woocommerce_photo_reviews_params["ajax_atc_event"].push({type:"post",url:woocommerce_photo_reviews_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcpr_add_to_cart"),data:data,beforeSend:function(){button.removeClass("added").addClass("loading")},success:function(response){if(response.error){location.href=window.location.href;return false}if(woocommerce_photo_reviews_params.cart_redirect_after_add==="yes"&&woocommerce_photo_reviews_params.cart_url){window.location=woocommerce_photo_reviews_params.cart_url;return false}jQuery(document.body).trigger("added_to_cart",[response.fragments,response.cart_hash,button]);if(!woocommerce_photo_reviews_params.woocommerce_enable_ajax_add_to_cart){jQuery(document.body).trigger("wc_fragment_refresh")}jQuery(document.body).trigger("viwcpr_added_to_cart",[response.fragments,response.cart_hash,button]);woocommerce_photo_reviews_params["ajax_atc_event"].shift();if(woocommerce_photo_reviews_params["ajax_atc_event"].length>0){jQuery.ajax(woocommerce_photo_reviews_params["ajax_atc_event"][0])}},complete:function(response){button.removeClass("loading vi-wcaio-product-bt-atc-loading").addClass("added")}});if(woocommerce_photo_reviews_params["ajax_atc_event"].length===1){jQuery.ajax(woocommerce_photo_reviews_params["ajax_atc_event"][0])}});jQuery(document).on("click",".wcpr-comment-helpful-button",function(e){e.stopPropagation();let button=jQuery(this);let vote=button.hasClass("wcpr-comment-helpful-button-up-vote")?"up":"down";let container=button.closest(".wcpr-comment-helpful-button-container");let comment_id=container.data("comment_id");if(vote==="up"&&container.hasClass("wcpr-comment-helpful-button-voted-up")){return}if(vote==="down"&&container.hasClass("wcpr-comment-helpful-button-voted-down")){return}if(container.hasClass("wcpr-comment-helpful-button-voting")){return}container.addClass("wcpr-comment-helpful-button-voting");jQuery.ajax({url:woocommerce_photo_reviews_params.ajaxurl,data:{action:"wcpr_helpful_button_handle",vote:vote,comment_id:comment_id,nonce:woocommerce_photo_reviews_params.nonce},type:"POST",success:function(response){if(response.status==="success"){container.find(".wcpr-comment-helpful-button-up-vote-count").html(parseInt(response.up));container.find(".wcpr-comment-helpful-button-down-vote-count").html(parseInt(response.down));if(vote==="up"){container.removeClass("wcpr-comment-helpful-button-voted-down").addClass("wcpr-comment-helpful-button-voted-up")}else{container.removeClass("wcpr-comment-helpful-button-voted-up").addClass("wcpr-comment-helpful-button-voted-down")}if(container.parent().hasClass("reviews-content-right-meta")||container.parent().hasClass("shortcode-reviews-content-right-meta")){let comment_container=jQuery('.wcpr-comment-helpful-button-container[data-comment_id="'+comment_id+'"]');comment_container.find(".wcpr-comment-helpful-button-up-vote-count").html(parseInt(response.up));comment_container.find(".wcpr-comment-helpful-button-down-vote-count").html(parseInt(response.down));if(vote==="up"){comment_container.removeClass("wcpr-comment-helpful-button-voted-down").addClass("wcpr-comment-helpful-button-voted-up")}else{comment_container.removeClass("wcpr-comment-helpful-button-voted-up").addClass("wcpr-comment-helpful-button-voted-down")}}}},error:function(){},complete:function(){container.removeClass("wcpr-comment-helpful-button-voting")}})})}function viSwipeDetect(el,callback){var touchsurface=el,swipedir,startX,startY,distX,distY,threshold=150,restraint=100,allowedTime=300,elapsedTime,startTime,handleswipe=callback||function(swipedir){};touchsurface.addEventListener("touchstart",function(e){var touchobj=e.changedTouches[0];swipedir="none";startX=touchobj.pageX;startY=touchobj.pageY;startTime=(new Date).getTime()},false);touchsurface.addEventListener("touchmove",function(e){e.preventDefault()},false);touchsurface.addEventListener("touchend",function(e){var touchobj=e.changedTouches[0];distX=touchobj.pageX-startX;distY=touchobj.pageY-startY;elapsedTime=(new Date).getTime()-startTime;if(elapsedTime<=allowedTime){if(Math.abs(distX)>=threshold&&Math.abs(distY)<=restraint){swipedir=distX<0?"left":"right"}else if(Math.abs(distY)>=threshold&&Math.abs(distX)<=restraint){swipedir=distY<0?"up":"down"}}handleswipe(swipedir)},false)}});



let slides,current_shortcode_id;function shortcode_wcpr_resize_masonry_items(e=!1){jQuery(".shortcode-wcpr-grid-item.wcpr-grid-item-init").removeClass("wcpr-grid-item-init");let o,r=20;jQuery(".wcpr-grid-loadmore .shortcode-wcpr-grid-item:not(.wcpr-grid-item-init)").each((function(){if(!jQuery(this).is(":visible"))return!0;o=jQuery(this).closest(".woocommerce-photo-reviews-shortcode").data("reviews_shortcode"),r=o?parseInt(o.cols_gap||r):r,shortcode_wcpr_resize_masonry_item(jQuery(this),1,r)}))}function shortcode_wcpr_resize_masonry_item(e,o,r){let t,i=0;if((e=jQuery(e)).find(".shortcode-reviews-images-wrap-right .shortcode-reviews-images").length&&(t=e.find(".shortcode-reviews-images-wrap-right .shortcode-reviews-images"),i=t.outerHeight(),0===i)){let o=e.find(".shortcode-wcpr-content").outerWidth(),r=t.attr("width")||0,s=t.attr("height")||0;i=0!==s?Math.round(o/r*s):o}let s=e.find(".shortcode-wcpr-content").outerHeight(),a=e.find(".shortcode-review-content-container").outerHeight();s<a+i&&(s=a+i);let c=Math.ceil((s+r)/(o+r));e.addClass("wcpr-grid-item-init").css("grid-row-end","span "+c)}function wcpr_enable_scroll(){"use strict";let e=parseInt(jQuery("html").css("top"));jQuery("html").removeClass("shortcode-wcpr-noscroll"),window.scrollTo({top:-e,behavior:"instant"})}function wcpr_disable_scroll(){"use strict";if(jQuery(document).height()>jQuery(window).height()){let e=jQuery("html").scrollTop()?jQuery("html").scrollTop():jQuery("body").scrollTop();jQuery("html").addClass("shortcode-wcpr-noscroll").css("top",-e)}}jQuery(window).on("elementor/frontend/init",(()=>{"use strict";elementorFrontend.hooks.addAction("frontend/element_ready/woocommerce-photo-reviews.default",(function(e){if(!window.elementor)return;let o=e.find(".woocommerce-photo-reviews-shortcode"),r=-1,t=0,i=!1;function s(e){t=0,r=e,e>=slides.length&&(r=0),e<0&&(r=slides.length-1),jQuery("#shortcode-reviews-content-left-modal").html(""),jQuery("#shortcode-reviews-content-left-main").html("");let o=jQuery(slides[r]);if(0==o.find(".shortcode-reviews-images-container").length)jQuery(".shortcode-wcpr-modal-light-box").addClass("shortcode-wcpr-no-images");else{jQuery("#shortcode-reviews-content-left-modal").html(o.find(".shortcode-reviews-images-wrap-left").html());let e=o.find(".shortcode-reviews-images-wr-right").html();e&&(jQuery(".shortcode-wcpr-modal-light-box").removeClass("shortcode-wcpr-no-images"),jQuery("#shortcode-reviews-content-left-main").html(e)),jQuery("#shortcode-reviews-content-left-modal").find(".shortcode-reviews-images").parent().on("click",(function(){t=jQuery(this).data("image_index");let e="",o=jQuery(this).attr("href"),r=jQuery("#shortcode-reviews-content-left-main").find(".shortcode-reviews-images");return jQuery(this).hasClass("reviews-iframe")||jQuery(this).find(".reviews-iframe").length?e=jQuery(`<iframe class="shortcode-reviews-images reviews-iframe" data-original_src="${o}" src="${o}" frameborder="0" allowfullscreen></iframe>`):jQuery(this).hasClass("reviews-videos")||jQuery(this).find(".reviews-videos").length?e=jQuery(`<video class="shortcode-reviews-images reviews-videos" data-original_src="${o}" src="${o}" controls></video>`):(e=jQuery(`<img class="shortcode-reviews-images" data-original_src="${o}" src="${o}">`),e.attr("title",r.attr("title"))),e.attr({width:r.attr("width"),height:r.attr("width")}),r.replaceWith(e),jQuery("#shortcode-reviews-content-left-main").find(".shortcode-wcpr-review-image-caption").html(jQuery(this).data("image_caption")),!1}))}jQuery("#shortcode-reviews-content-right .shortcode-reviews-content-right-meta").html(o.find(".shortcode-review-content-container").html()),jQuery("#shortcode-reviews-content-right .shortcode-wcpr-single-product-summary").html(o.find(".shortcode-wcpr-single-product-summary-content-wrapper").html()),jQuery(".shortcode-wcpr-modal-light-box").fadeIn(200),jQuery("img.jetpack-lazy-image:not(.jetpack-lazy-image--handled)").length&&document.querySelector("body").dispatchEvent(new Event("jetpack-lazy-images-load"))}(/iPad/i.test(navigator.userAgent)||/Safari/i.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&!/Mobi|Android/i.test(navigator.userAgent))&&(i=!0),o.find(".shortcode-wcpr-grid-item .shortcode-reviews-images").unbind().on("click",(function(e){let r=jQuery(this),t=o.data("reviews_shortcode");if(t.hasOwnProperty("masonry_popup")&&"image"===t.masonry_popup){e.stopPropagation();let o=r.closest(".shortcode-reviews-images-container"),t=[];o.find(".shortcode-reviews-images-wrap-left").find("a").map((function(){let e=jQuery(this).find(".shortcode-reviews-images"),r=jQuery(this).data("image_src")?jQuery(this).data("image_src"):e.attr("src"),i=jQuery(this).data("image_caption")?jQuery(this).data("image_caption"):parseInt(jQuery(this).data("image_index"))+1+"/"+o.find(".shortcode-reviews-images-wrap-left").find("a").length;t.push({href:r,title:i})})),0===t.length&&t.push({href:r.data("original_src")?r.data("original_src"):r.attr("src"),title:r.parent().find(".shortcode-wcpr-review-image-caption").html()}),jQuery.swipebox(t,{hideBarsDelay:1e5,initialIndexOnArray:0})}})),i||o.find(".shortcode-wcpr-enable-box-shadow").addClass("shortcode-wcpr-fix-box-shadow"),jQuery(".shortcode-wcpr-modal-light-box").keydown((function(e){jQuery.swipebox.isOpen||"none"!=jQuery(".shortcode-wcpr-modal-light-box").css("display")&&(27==e.keyCode&&(jQuery(".shortcode-wcpr-modal-light-box").fadeOut(200),jQuery(".shortcode-wcpr-modal-light-box").removeClass(current_shortcode_id+"-modal"),r=-1),-1!=r&&(37==e.keyCode&&s(r-=1),39==e.keyCode&&s(r+=1)))})),o.find(".shortcode-wcpr-grid-item").unbind().on("click",(function(){let e=o.data("reviews_shortcode");if(e.hasOwnProperty("masonry_popup")&&"review"===e.masonry_popup){e.hasOwnProperty("full_screen_mobile")&&"on"===e.full_screen_mobile?jQuery(".shortcode-wcpr-modal-light-box").addClass("shortcode-wcpr-full-screen-mobile"):jQuery(".shortcode-wcpr-modal-light-box").removeClass("shortcode-wcpr-full-screen-mobile"),slides=o.find(".shortcode-wcpr-grid-item");let r=slides.index(jQuery(this));r>=0&&(jQuery(".shortcode-wcpr-modal-light-box").removeClass(current_shortcode_id+"-modal"),current_shortcode_id=o.attr("id"),jQuery(".shortcode-wcpr-modal-light-box").addClass(current_shortcode_id+"-modal"),s(r),wcpr_disable_scroll())}})),o.find(".shortcode-wcpr-read-more").unbind().on("click",(function(e){e.stopPropagation();let o=jQuery(this).closest(".shortcode-wcpr-review-content"),r=o.find(".shortcode-wcpr-review-content-full").html();r&&o.html(r),o.closest(".shortcode-wcpr-grid-item").removeClass("wcpr-grid-item-init"),shortcode_wcpr_resize_masonry_items(!0)})),shortcode_wcpr_resize_masonry_items(!0)}))})),jQuery(document).ready((function(e){"use strict";let o=!1;function r(){o||e(".shortcode-wcpr-enable-box-shadow").addClass("shortcode-wcpr-fix-box-shadow"),shortcode_wcpr_resize_masonry_items()}(/iPad/i.test(navigator.userAgent)||/Safari/i.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&!/Mobi|Android/i.test(navigator.userAgent))&&(o=!0),r();let t=-1,i=0;function s(){wcpr_enable_scroll(),e(".shortcode-wcpr-modal-light-box").fadeOut(200),t=-1}function a(o){i=0,t=o,o>=slides.length&&(t=0),o<0&&(t=slides.length-1);let r=e("#shortcode-reviews-content-left-modal"),s=e("#shortcode-reviews-content-left-main");r.html(""),s.html("");let a=e(slides[t]);if(0===a.find(".shortcode-reviews-images-container").length)e(".shortcode-wcpr-modal-light-box").addClass("shortcode-wcpr-no-images");else{r.html(a.find(".shortcode-reviews-images-wrap-left").html());let o=a.find(".shortcode-reviews-images-wrap-right").html();if(o){e(".shortcode-wcpr-modal-light-box").removeClass("shortcode-wcpr-no-images"),s.html(o);let r=s.find("img").data("original_src");!r||r.indexOf("data:")>-1?s.find("img").attr("src",s.find("img").attr("src")):s.find("img").attr("src",r)}r.find(".shortcode-reviews-images").map((function(){let o=e(this).data("src");o&&e(this).attr("src",o)})),r.find(".shortcode-reviews-images").parent().on("click",(function(){i=e(this).data("image_index");let o="",r=jQuery(this).attr("href");return jQuery(this).hasClass("reviews-iframe")||jQuery(this).find(".reviews-iframe").length?o=jQuery(`<iframe class="shortcode-reviews-images reviews-iframe" data-original_src="${r}" src="${r}" frameborder="0" allowfullscreen></iframe>`):jQuery(this).hasClass("reviews-videos")||jQuery(this).find(".reviews-videos").length?o=jQuery(`<video class="shortcode-reviews-images reviews-videos" data-original_src="${r}" src="${r}" controls></video>`):(r=e(this).data("image_src")||r,o=jQuery(`<img class="shortcode-reviews-images" data-original_src="${r}" src="${r}">`),o.attr("title",s.find(".shortcode-reviews-images").attr("title"))),o.attr({width:s.find(".shortcode-reviews-images").attr("width"),height:s.find(".shortcode-reviews-images").attr("width")}),s.find(".shortcode-reviews-images").replaceWith(o),s.find(".shortcode-wcpr-review-image-caption").html(e(this).data("image_caption")),!1}))}e("#shortcode-reviews-content-right .shortcode-reviews-content-right-meta").html(a.find(".shortcode-review-content-container").html()),e("#shortcode-reviews-content-right .shortcode-wcpr-single-product-summary").html(a.find(".shortcode-wcpr-single-product-summary-content-wrapper").html()),e(".shortcode-wcpr-modal-light-box").fadeIn(200),function(o){e(".shortcode-wcpr-single-product-summary").find(".shortcode-wcpr-variations_form").each((function(){e(this).addClass("variations_form vi_wpvs_variation_form"),e(this).find("select").each((function(r,t){e(this).val(jQuery(o).find("select").eq(r).val()).trigger("change")})),e(this).wc_variation_form(),e(document.body).trigger("vi_wpvs_variation_form"),e(document.body).trigger("wc_price_based_country_ajax_geolocation")}))}(a),jQuery("img.jetpack-lazy-image:not(.jetpack-lazy-image--handled)").length&&document.querySelector("body").dispatchEvent(new Event("jetpack-lazy-images-load")),jQuery("img.jetpack-lazy-image").next("img").remove()}e(".shortcode-wcpr-close").on("click",(function(){s()})),e(".shortcode-wcpr-single-product-summary-meta-shop .variations_form").each((function(){e(this).addClass("shortcode-wcpr-variations_form").removeClass("variations_form")})),e(".shortcode-wcpr-modal-light-box .shortcode-wcpr-overlay").on("click",(function(){s()})),e("#shortcode-reviews-content-left-main").on("click",".shortcode-reviews-images",(function(){let o=e(this),r=[];e("#shortcode-reviews-content-left-modal").find("a").map((function(){let o=e(this).find(".shortcode-reviews-images"),t=e(this).data("image_src")?e(this).data("image_src"):o.attr("src"),i=e(this).data("image_caption")?e(this).data("image_caption"):parseInt(e(this).data("image_index"))+1+"/"+e("#shortcode-reviews-content-left-modal").find("a").length;r.push({href:t,title:i})})),0===r.length&&r.push({href:o.data("original_src")?o.data("original_src"):o.attr("src"),title:o.parent().find(".shortcode-wcpr-review-image-caption").html()}),e.swipebox(r,{hideBarsDelay:1e5,initialIndexOnArray:i})})),e(document).on("keydown",(function(o){let r=e(".shortcode-wcpr-modal-light-box");0!==e(".woocommerce-photo-reviews-shortcode").length&&(e.swipebox.isOpen||"none"!==r.css("display")&&(27===o.keyCode&&s(),-1!==t&&(37===o.keyCode&&a(t-=1),39===o.keyCode&&a(t+=1))))})),e(document).on("click",".shortcode-wcpr-grid-item",(function(){let o=e(this).closest(".woocommerce-photo-reviews-shortcode"),r=o.data("reviews_shortcode");if(r.hasOwnProperty("masonry_popup")&&"review"===r.masonry_popup){r.hasOwnProperty("full_screen_mobile")&&"on"===r.full_screen_mobile?e(".shortcode-wcpr-modal-light-box").addClass("shortcode-wcpr-full-screen-mobile"):e(".shortcode-wcpr-modal-light-box").removeClass("shortcode-wcpr-full-screen-mobile"),slides=o.find(".shortcode-wcpr-grid-item");let t=slides.index(e(this));t>=0&&(e(".shortcode-wcpr-modal-light-box").removeClass(current_shortcode_id+"-modal"),current_shortcode_id=o.attr("id"),e(".shortcode-wcpr-modal-light-box").addClass(current_shortcode_id+"-modal"),a(t),wcpr_disable_scroll())}})),e(document).on("click",".shortcode-wcpr-read-more",(function(o){o.stopPropagation();let r=e(this).closest(".shortcode-wcpr-review-content"),t=r.find(".shortcode-wcpr-review-content-full").html();t&&r.html(t),r.closest(".shortcode-wcpr-grid-item").removeClass("wcpr-grid-item-init"),shortcode_wcpr_resize_masonry_items(!0)})),e(document).on("click",".shortcode-wcpr-grid-item .shortcode-reviews-images",(function(o){let r=e(this),t=r.closest(".woocommerce-photo-reviews-shortcode").data("reviews_shortcode");if(t.hasOwnProperty("masonry_popup")&&"image"===t.masonry_popup){o.stopPropagation();let t=r.closest(".shortcode-reviews-images-container"),i=[];t.find(".shortcode-reviews-images-wrap-left").find("a").map((function(){let o=e(this).find(".shortcode-reviews-images"),r=e(this).data("image_src")?e(this).data("image_src"):o.attr("src"),s=e(this).data("image_caption")?e(this).data("image_caption"):parseInt(e(this).data("image_index"))+1+"/"+t.find(".shortcode-reviews-images-wrap-left").find("a").length;i.push({href:r,title:s})})),0===i.length&&i.push({href:r.data("original_src")?r.data("original_src"):r.attr("src"),title:r.parent().find(".shortcode-wcpr-review-image-caption").html()}),e.swipebox(i,{hideBarsDelay:1e5,initialIndexOnArray:0})}})),jQuery("img.jetpack-lazy-image").next("img").remove(),e("body").on("click",".shortcode-wcpr-next",(function(){a(t+=1)})),e("body").on("click",".shortcode-wcpr-prev",(function(){a(t-=1)}));let c=!1,n="",d="",h="";e(document).on("click",".shortcode-wcpr-load-more-reviews-button:not(.wcpr-loading)",(function(o){let t=e(this),i=t.closest(".woocommerce-photo-reviews-shortcode");n=i.data("wcpr_image"),d=i.data("wcpr_verified"),h=i.data("wcpr_rating");let s=i.data("reviews_shortcode");if(c)return!1;c=!0,o.preventDefault(),i.addClass("woocommerce-photo-reviews-shortcode-loading"),t.addClass("wcpr-loading"),e.ajax({url:woocommerce_photo_reviews_shortcode_params.ajaxurl,type:"get",data:{action:"woocommerce_photo_reviews_shortcode_ajax_get_reviews",nonce:woocommerce_photo_reviews_shortcode_params.nonce,reviews_shortcode:JSON.stringify(s),wcpr_page:t.data("cpage"),wcpr_image:n,wcpr_verified:d,wcpr_rating:h},success:function(e){let o=jQuery('<div class="woocommerce_photo_reviews_shortcode_ajax_get_reviews"></div>');o.css("display","none").html(e.html),s.hasOwnProperty("style")&&"masonry"===s.style?i.find(".shortcode-wcpr-grid").append(o.find(".shortcode-wcpr-grid").html()):i.find(".commentlist").append(o.find(".commentlist").html()),i.find(".wcpr-load-more-reviews-button-container").replaceWith(o.find(".wcpr-load-more-reviews-button-container")),i.data("wcpr_image",n),i.data("wcpr_verified",d),i.data("wcpr_rating",h)},complete:function(){s.hasOwnProperty("style")&&"masonry"===s.style&&s.hasOwnProperty("masonry_popup")&&s.masonry_popup,r(),jQuery(document.body).trigger("woocommerce_photo_reviews_shortcode_ajax_get_reviews"),c=!1,t.removeClass("wcpr-loading"),i.removeClass("woocommerce-photo-reviews-shortcode-loading")}})})),e(document).on("click","a.wcpr-page-numbers.wcpr-page-numbers-nav",(function(e){let o=jQuery(this).closest(".woocommerce-photo-reviews-shortcode").data("reviews_shortcode");if(!o.hasOwnProperty("pagination_ajax")||"on"!==o.pagination_ajax)return!0;e.preventDefault(),e.stopPropagation();let r=jQuery(this).closest(".shortcode-wcpr-pagination"),t=r.find(".wcpr-page-numbers").index(r.find(".wcpr-page-numbers.wcpr-current"));if(jQuery(this).hasClass("wcpr-page-numbers-next")?t++:t--,0===t||t===r.find(".wcpr-page-numbers:not(.wcpr-page-numbers-nav)").length)return!1;r.find(".wcpr-page-numbers").eq(t).trigger("click")})),e(document).on("click","a.wcpr-page-numbers:not(.wcpr-page-numbers-nav)",(function(o){let t=e(this),i=t.closest(".woocommerce-photo-reviews-shortcode");n=i.data("wcpr_image"),d=i.data("wcpr_verified"),h=i.data("wcpr_rating");let s=i.data("reviews_shortcode");if(!s.hasOwnProperty("pagination_ajax")||"on"!==s.pagination_ajax)return!0;if(c)return!1;let a=parseInt(i.offset().top);window.scrollTo({top:a,behavior:"smooth"}),c=!0,o.preventDefault(),i.addClass("woocommerce-photo-reviews-shortcode-loading"),e.ajax({url:woocommerce_photo_reviews_shortcode_params.ajaxurl,type:"get",data:{action:"woocommerce_photo_reviews_shortcode_ajax_get_reviews",nonce:woocommerce_photo_reviews_shortcode_params.nonce,reviews_shortcode:JSON.stringify(s),wcpr_page:parseInt(t.html()),wcpr_image:n,wcpr_verified:d,wcpr_rating:h},success:function(e){i.html(e.html),i.data("wcpr_image",n),i.data("wcpr_verified",d),i.data("wcpr_rating",h)},error:function(e){},complete:function(){s.hasOwnProperty("style")&&"masonry"===s.style&&s.hasOwnProperty("masonry_popup")&&s.masonry_popup,r(),jQuery(document.body).trigger("woocommerce_photo_reviews_shortcode_ajax_get_reviews"),c=!1,i.removeClass("woocommerce-photo-reviews-shortcode-loading")}})})),e(document).on("click","a.shortcode-wcpr-filter-button",(function(o){let t=e(this),i=t.closest(".woocommerce-photo-reviews-shortcode"),s=i.data("reviews_shortcode");if(!s.hasOwnProperty("pagination_ajax")||"on"!==s.pagination_ajax)return;if(c||0===parseInt(t.find(".shortcode-wcpr-filter-button-count").html())&&!t.hasClass("shortcode-wcpr-active"))return!1;n=i.data("wcpr_image"),d=i.data("wcpr_verified"),h=i.data("wcpr_rating");let a=t.data("filter_type");switch(a){case"all":if(t.hasClass("shortcode-wcpr-active"))return!1;h="";break;case"image":n=t.hasClass("shortcode-wcpr-active")?"":1;break;case"verified":d=t.hasClass("shortcode-wcpr-active")?"":1;break;default:if(t.hasClass("shortcode-wcpr-active"))return!1;h=a}let l=parseInt(i.offset().top);window.scrollTo({top:l,behavior:"smooth"}),c=!0,o.preventDefault(),i.addClass("woocommerce-photo-reviews-shortcode-loading"),e.ajax({url:woocommerce_photo_reviews_shortcode_params.ajaxurl,type:"get",data:{action:"woocommerce_photo_reviews_shortcode_ajax_get_reviews",nonce:woocommerce_photo_reviews_shortcode_params.nonce,reviews_shortcode:JSON.stringify(s),wcpr_image:n,wcpr_verified:d,wcpr_rating:h},success:function(e){i.html(e.html),i.data("wcpr_image",n),i.data("wcpr_verified",d),i.data("wcpr_rating",h)},error:function(e){},complete:function(){s.hasOwnProperty("style")&&"masonry"===s.style&&s.hasOwnProperty("masonry_popup")&&s.masonry_popup,r(),i.hasClass("woocommerce-photo-reviews-slide-init")&&(i.removeClass("woocommerce-photo-reviews-slide woocommerce-photo-reviews-slide-init woocommerce-photo-reviews-slide-none"),viwcpr_flexslider()),jQuery(document.body).trigger("woocommerce_photo_reviews_shortcode_ajax_get_reviews"),c=!1,i.removeClass("woocommerce-photo-reviews-shortcode-loading")}})})),e(document).on("scroll",(function(e){setTimeout((function(){shortcode_wcpr_resize_masonry_items()}),100)})),e(document).on("click","a",(function(e){setTimeout((function(){shortcode_wcpr_resize_masonry_items()}),100)}))})),jQuery(window).on("resize",(function(){"use strict";shortcode_wcpr_resize_masonry_items(!0)}));



/*! This file is auto-generated */
!function(n,t){var r,e;"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("underscore",t):(n="undefined"!=typeof globalThis?globalThis:n||self,r=n._,(e=n._=t()).noConflict=function(){return n._=r,e})}(this,function(){var n="1.13.7",t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},e=Array.prototype,V=Object.prototype,F="undefined"!=typeof Symbol?Symbol.prototype:null,P=e.push,f=e.slice,s=V.toString,q=V.hasOwnProperty,r="undefined"!=typeof ArrayBuffer,u="undefined"!=typeof DataView,U=Array.isArray,W=Object.keys,z=Object.create,L=r&&ArrayBuffer.isView,$=isNaN,C=isFinite,K=!{toString:null}.propertyIsEnumerable("toString"),J=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],G=Math.pow(2,53)-1;function l(u,o){return o=null==o?u.length-1:+o,function(){for(var n=Math.max(arguments.length-o,0),t=Array(n),r=0;r<n;r++)t[r]=arguments[r+o];switch(o){case 0:return u.call(this,t);case 1:return u.call(this,arguments[0],t);case 2:return u.call(this,arguments[0],arguments[1],t)}for(var e=Array(o+1),r=0;r<o;r++)e[r]=arguments[r];return e[o]=t,u.apply(this,e)}}function o(n){var t=typeof n;return"function"==t||"object"==t&&!!n}function H(n){return void 0===n}function Q(n){return!0===n||!1===n||"[object Boolean]"===s.call(n)}function i(n){var t="[object "+n+"]";return function(n){return s.call(n)===t}}var X=i("String"),Y=i("Number"),Z=i("Date"),nn=i("RegExp"),tn=i("Error"),rn=i("Symbol"),en=i("ArrayBuffer"),a=i("Function"),t=t.document&&t.document.childNodes,p=a="function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof t?function(n){return"function"==typeof n||!1}:a,t=i("Object"),un=u&&(!/\[native code\]/.test(String(DataView))||t(new DataView(new ArrayBuffer(8)))),a="undefined"!=typeof Map&&t(new Map),u=i("DataView");var h=un?function(n){return null!=n&&p(n.getInt8)&&en(n.buffer)}:u,v=U||i("Array");function y(n,t){return null!=n&&q.call(n,t)}var on=i("Arguments"),an=(!function(){on(arguments)||(on=function(n){return y(n,"callee")})}(),on);function fn(n){return Y(n)&&$(n)}function cn(n){return function(){return n}}function ln(t){return function(n){n=t(n);return"number"==typeof n&&0<=n&&n<=G}}function sn(t){return function(n){return null==n?void 0:n[t]}}var d=sn("byteLength"),pn=ln(d),hn=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var vn=r?function(n){return L?L(n)&&!h(n):pn(n)&&hn.test(s.call(n))}:cn(!1),g=sn("length");function yn(n,t){t=function(t){for(var r={},n=t.length,e=0;e<n;++e)r[t[e]]=!0;return{contains:function(n){return!0===r[n]},push:function(n){return r[n]=!0,t.push(n)}}}(t);var r=J.length,e=n.constructor,u=p(e)&&e.prototype||V,o="constructor";for(y(n,o)&&!t.contains(o)&&t.push(o);r--;)(o=J[r])in n&&n[o]!==u[o]&&!t.contains(o)&&t.push(o)}function b(n){if(!o(n))return[];if(W)return W(n);var t,r=[];for(t in n)y(n,t)&&r.push(t);return K&&yn(n,r),r}function dn(n,t){var r=b(t),e=r.length;if(null==n)return!e;for(var u=Object(n),o=0;o<e;o++){var i=r[o];if(t[i]!==u[i]||!(i in u))return!1}return!0}function m(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)}function gn(n){return new Uint8Array(n.buffer||n,n.byteOffset||0,d(n))}m.VERSION=n,m.prototype.valueOf=m.prototype.toJSON=m.prototype.value=function(){return this._wrapped},m.prototype.toString=function(){return String(this._wrapped)};var bn="[object DataView]";function mn(n,t,r,e){var u;return n===t?0!==n||1/n==1/t:null!=n&&null!=t&&(n!=n?t!=t:("function"==(u=typeof n)||"object"==u||"object"==typeof t)&&function n(t,r,e,u){t instanceof m&&(t=t._wrapped);r instanceof m&&(r=r._wrapped);var o=s.call(t);if(o!==s.call(r))return!1;if(un&&"[object Object]"==o&&h(t)){if(!h(r))return!1;o=bn}switch(o){case"[object RegExp]":case"[object String]":return""+t==""+r;case"[object Number]":return+t!=+t?+r!=+r:0==+t?1/+t==1/r:+t==+r;case"[object Date]":case"[object Boolean]":return+t==+r;case"[object Symbol]":return F.valueOf.call(t)===F.valueOf.call(r);case"[object ArrayBuffer]":case bn:return n(gn(t),gn(r),e,u)}o="[object Array]"===o;if(!o&&vn(t)){var i=d(t);if(i!==d(r))return!1;if(t.buffer===r.buffer&&t.byteOffset===r.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof t||"object"!=typeof r)return!1;var i=t.constructor,a=r.constructor;if(i!==a&&!(p(i)&&i instanceof i&&p(a)&&a instanceof a)&&"constructor"in t&&"constructor"in r)return!1}e=e||[];u=u||[];var f=e.length;for(;f--;)if(e[f]===t)return u[f]===r;e.push(t);u.push(r);if(o){if((f=t.length)!==r.length)return!1;for(;f--;)if(!mn(t[f],r[f],e,u))return!1}else{var c,l=b(t);if(f=l.length,b(r).length!==f)return!1;for(;f--;)if(c=l[f],!y(r,c)||!mn(t[c],r[c],e,u))return!1}e.pop();u.pop();return!0}(n,t,r,e))}function c(n){if(!o(n))return[];var t,r=[];for(t in n)r.push(t);return K&&yn(n,r),r}function jn(e){var u=g(e);return function(n){if(null==n)return!1;var t=c(n);if(g(t))return!1;for(var r=0;r<u;r++)if(!p(n[e[r]]))return!1;return e!==_n||!p(n[wn])}}var wn="forEach",t=["clear","delete"],u=["get","has","set"],U=t.concat(wn,u),_n=t.concat(u),r=["add"].concat(t,wn,"has"),u=a?jn(U):i("Map"),t=a?jn(_n):i("WeakMap"),U=a?jn(r):i("Set"),a=i("WeakSet");function j(n){for(var t=b(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=n[t[u]];return e}function An(n){for(var t={},r=b(n),e=0,u=r.length;e<u;e++)t[n[r[e]]]=r[e];return t}function xn(n){var t,r=[];for(t in n)p(n[t])&&r.push(t);return r.sort()}function Sn(f,c){return function(n){var t=arguments.length;if(c&&(n=Object(n)),!(t<2||null==n))for(var r=1;r<t;r++)for(var e=arguments[r],u=f(e),o=u.length,i=0;i<o;i++){var a=u[i];c&&void 0!==n[a]||(n[a]=e[a])}return n}}var On=Sn(c),w=Sn(b),Mn=Sn(c,!0);function En(n){var t;return o(n)?z?z(n):((t=function(){}).prototype=n,n=new t,t.prototype=null,n):{}}function Bn(n){return v(n)?n:[n]}function _(n){return m.toPath(n)}function Nn(n,t){for(var r=t.length,e=0;e<r;e++){if(null==n)return;n=n[t[e]]}return r?n:void 0}function In(n,t,r){n=Nn(n,_(t));return H(n)?r:n}function Tn(n){return n}function A(t){return t=w({},t),function(n){return dn(n,t)}}function kn(t){return t=_(t),function(n){return Nn(n,t)}}function x(u,o,n){if(void 0===o)return u;switch(null==n?3:n){case 1:return function(n){return u.call(o,n)};case 3:return function(n,t,r){return u.call(o,n,t,r)};case 4:return function(n,t,r,e){return u.call(o,n,t,r,e)}}return function(){return u.apply(o,arguments)}}function Dn(n,t,r){return null==n?Tn:p(n)?x(n,t,r):(o(n)&&!v(n)?A:kn)(n)}function Rn(n,t){return Dn(n,t,1/0)}function S(n,t,r){return m.iteratee!==Rn?m.iteratee(n,t):Dn(n,t,r)}function Vn(){}function Fn(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))}m.toPath=Bn,m.iteratee=Rn;var O=Date.now||function(){return(new Date).getTime()};function Pn(t){function r(n){return t[n]}var n="(?:"+b(t).join("|")+")",e=RegExp(n),u=RegExp(n,"g");return function(n){return e.test(n=null==n?"":""+n)?n.replace(u,r):n}}var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},qn=Pn(r),r=Pn(An(r)),Un=m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Wn=/(.)^/,zn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ln=/\\|'|\r|\n|\u2028|\u2029/g;function $n(n){return"\\"+zn[n]}var Cn=/^\s*(\w|\$)+\s*$/;var Kn=0;function Jn(n,t,r,e,u){return e instanceof t?(e=En(n.prototype),o(t=n.apply(e,u))?t:e):n.apply(r,u)}var M=l(function(u,o){function i(){for(var n=0,t=o.length,r=Array(t),e=0;e<t;e++)r[e]=o[e]===a?arguments[n++]:o[e];for(;n<arguments.length;)r.push(arguments[n++]);return Jn(u,i,this,this,r)}var a=M.placeholder;return i}),Gn=(M.placeholder=m,l(function(t,r,e){var u;if(p(t))return u=l(function(n){return Jn(t,u,r,this,e.concat(n))});throw new TypeError("Bind must be called on a function")})),E=ln(g);function B(n,t,r,e){if(e=e||[],t||0===t){if(t<=0)return e.concat(n)}else t=1/0;for(var u=e.length,o=0,i=g(n);o<i;o++){var a=n[o];if(E(a)&&(v(a)||an(a)))if(1<t)B(a,t-1,r,e),u=e.length;else for(var f=0,c=a.length;f<c;)e[u++]=a[f++];else r||(e[u++]=a)}return e}var Hn=l(function(n,t){var r=(t=B(t,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var e=t[r];n[e]=Gn(n[e],n)}return n});var Qn=l(function(n,t,r){return setTimeout(function(){return n.apply(null,r)},t)}),Xn=M(Qn,m,1);function Yn(n){return function(){return!n.apply(this,arguments)}}function Zn(n,t){var r;return function(){return 0<--n&&(r=t.apply(this,arguments)),n<=1&&(t=null),r}}var nt=M(Zn,2);function tt(n,t,r){t=S(t,r);for(var e,u=b(n),o=0,i=u.length;o<i;o++)if(t(n[e=u[o]],e,n))return e}function rt(o){return function(n,t,r){t=S(t,r);for(var e=g(n),u=0<o?0:e-1;0<=u&&u<e;u+=o)if(t(n[u],u,n))return u;return-1}}var et=rt(1),ut=rt(-1);function ot(n,t,r,e){for(var u=(r=S(r,e,1))(t),o=0,i=g(n);o<i;){var a=Math.floor((o+i)/2);r(n[a])<u?o=a+1:i=a}return o}function it(o,i,a){return function(n,t,r){var e=0,u=g(n);if("number"==typeof r)0<o?e=0<=r?r:Math.max(r+u,e):u=0<=r?Math.min(r+1,u):r+u+1;else if(a&&r&&u)return n[r=a(n,t)]===t?r:-1;if(t!=t)return 0<=(r=i(f.call(n,e,u),fn))?r+e:-1;for(r=0<o?e:u-1;0<=r&&r<u;r+=o)if(n[r]===t)return r;return-1}}var at=it(1,et,ot),ft=it(-1,ut);function ct(n,t,r){t=(E(n)?et:tt)(n,t,r);if(void 0!==t&&-1!==t)return n[t]}function N(n,t,r){if(t=x(t,r),E(n))for(u=0,o=n.length;u<o;u++)t(n[u],u,n);else for(var e=b(n),u=0,o=e.length;u<o;u++)t(n[e[u]],e[u],n);return n}function I(n,t,r){t=S(t,r);for(var e=!E(n)&&b(n),u=(e||n).length,o=Array(u),i=0;i<u;i++){var a=e?e[i]:i;o[i]=t(n[a],a,n)}return o}function lt(f){return function(n,t,r,e){var u=3<=arguments.length;return function(n,t,r,e){var u=!E(n)&&b(n),o=(u||n).length,i=0<f?0:o-1;for(e||(r=n[u?u[i]:i],i+=f);0<=i&&i<o;i+=f){var a=u?u[i]:i;r=t(r,n[a],a,n)}return r}(n,x(t,e,4),r,u)}}var st=lt(1),pt=lt(-1);function T(n,e,t){var u=[];return e=S(e,t),N(n,function(n,t,r){e(n,t,r)&&u.push(n)}),u}function ht(n,t,r){t=S(t,r);for(var e=!E(n)&&b(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(!t(n[i],i,n))return!1}return!0}function vt(n,t,r){t=S(t,r);for(var e=!E(n)&&b(n),u=(e||n).length,o=0;o<u;o++){var i=e?e[o]:o;if(t(n[i],i,n))return!0}return!1}function k(n,t,r,e){return E(n)||(n=j(n)),0<=at(n,t,r="number"==typeof r&&!e?r:0)}var yt=l(function(n,r,e){var u,o;return p(r)?o=r:(r=_(r),u=r.slice(0,-1),r=r[r.length-1]),I(n,function(n){var t=o;if(!t){if(null==(n=u&&u.length?Nn(n,u):n))return;t=n[r]}return null==t?t:t.apply(n,e)})});function dt(n,t){return I(n,kn(t))}function gt(n,e,t){var r,u,o=-1/0,i=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof n[0]&&null!=n)for(var a=0,f=(n=E(n)?n:j(n)).length;a<f;a++)null!=(r=n[a])&&o<r&&(o=r);else e=S(e,t),N(n,function(n,t,r){u=e(n,t,r),(i<u||u===-1/0&&o===-1/0)&&(o=n,i=u)});return o}var bt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function mt(n){return n?v(n)?f.call(n):X(n)?n.match(bt):E(n)?I(n,Tn):j(n):[]}function jt(n,t,r){if(null==t||r)return(n=E(n)?n:j(n))[Fn(n.length-1)];for(var e=mt(n),r=g(e),u=(t=Math.max(Math.min(t,r),0),r-1),o=0;o<t;o++){var i=Fn(o,u),a=e[o];e[o]=e[i],e[i]=a}return e.slice(0,t)}function D(o,t){return function(r,e,n){var u=t?[[],[]]:{};return e=S(e,n),N(r,function(n,t){t=e(n,t,r);o(u,n,t)}),u}}var wt=D(function(n,t,r){y(n,r)?n[r].push(t):n[r]=[t]}),_t=D(function(n,t,r){n[r]=t}),At=D(function(n,t,r){y(n,r)?n[r]++:n[r]=1}),xt=D(function(n,t,r){n[r?0:1].push(t)},!0);function St(n,t,r){return t in r}var Ot=l(function(n,t){var r={},e=t[0];if(null!=n){p(e)?(1<t.length&&(e=x(e,t[1])),t=c(n)):(e=St,t=B(t,!1,!1),n=Object(n));for(var u=0,o=t.length;u<o;u++){var i=t[u],a=n[i];e(a,i,n)&&(r[i]=a)}}return r}),Mt=l(function(n,r){var t,e=r[0];return p(e)?(e=Yn(e),1<r.length&&(t=r[1])):(r=I(B(r,!1,!1),String),e=function(n,t){return!k(r,t)}),Ot(n,e,t)});function Et(n,t,r){return f.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))}function Bt(n,t,r){return null==n||n.length<1?null==t||r?void 0:[]:null==t||r?n[0]:Et(n,n.length-t)}function R(n,t,r){return f.call(n,null==t||r?1:t)}var Nt=l(function(n,t){return t=B(t,!0,!0),T(n,function(n){return!k(t,n)})}),It=l(function(n,t){return Nt(n,t)});function Tt(n,t,r,e){Q(t)||(e=r,r=t,t=!1),null!=r&&(r=S(r,e));for(var u=[],o=[],i=0,a=g(n);i<a;i++){var f=n[i],c=r?r(f,i,n):f;t&&!r?(i&&o===c||u.push(f),o=c):r?k(o,c)||(o.push(c),u.push(f)):k(u,f)||u.push(f)}return u}var kt=l(function(n){return Tt(B(n,!0,!0))});function Dt(n){for(var t=n&&gt(n,g).length||0,r=Array(t),e=0;e<t;e++)r[e]=dt(n,e);return r}var Rt=l(Dt);function Vt(n,t){return n._chain?m(t).chain():t}function Ft(r){return N(xn(r),function(n){var t=m[n]=r[n];m.prototype[n]=function(){var n=[this._wrapped];return P.apply(n,arguments),Vt(this,t.apply(m,n))}}),m}N(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var r=e[t];m.prototype[t]=function(){var n=this._wrapped;return null!=n&&(r.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),Vt(this,n)}}),N(["concat","join","slice"],function(n){var t=e[n];m.prototype[n]=function(){var n=this._wrapped;return Vt(this,n=null!=n?t.apply(n,arguments):n)}});n=Ft({__proto__:null,VERSION:n,restArguments:l,isObject:o,isNull:function(n){return null===n},isUndefined:H,isBoolean:Q,isElement:function(n){return!(!n||1!==n.nodeType)},isString:X,isNumber:Y,isDate:Z,isRegExp:nn,isError:tn,isSymbol:rn,isArrayBuffer:en,isDataView:h,isArray:v,isFunction:p,isArguments:an,isFinite:function(n){return!rn(n)&&C(n)&&!isNaN(parseFloat(n))},isNaN:fn,isTypedArray:vn,isEmpty:function(n){var t;return null==n||("number"==typeof(t=g(n))&&(v(n)||X(n)||an(n))?0===t:0===g(b(n)))},isMatch:dn,isEqual:function(n,t){return mn(n,t)},isMap:u,isWeakMap:t,isSet:U,isWeakSet:a,keys:b,allKeys:c,values:j,pairs:function(n){for(var t=b(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=[t[u],n[t[u]]];return e},invert:An,functions:xn,methods:xn,extend:On,extendOwn:w,assign:w,defaults:Mn,create:function(n,t){return n=En(n),t&&w(n,t),n},clone:function(n){return o(n)?v(n)?n.slice():On({},n):n},tap:function(n,t){return t(n),n},get:In,has:function(n,t){for(var r=(t=_(t)).length,e=0;e<r;e++){var u=t[e];if(!y(n,u))return!1;n=n[u]}return!!r},mapObject:function(n,t,r){t=S(t,r);for(var e=b(n),u=e.length,o={},i=0;i<u;i++){var a=e[i];o[a]=t(n[a],a,n)}return o},identity:Tn,constant:cn,noop:Vn,toPath:Bn,property:kn,propertyOf:function(t){return null==t?Vn:function(n){return In(t,n)}},matcher:A,matches:A,times:function(n,t,r){var e=Array(Math.max(0,n));t=x(t,r,1);for(var u=0;u<n;u++)e[u]=t(u);return e},random:Fn,now:O,escape:qn,unescape:r,templateSettings:Un,template:function(o,n,t){n=Mn({},n=!n&&t?t:n,m.templateSettings);var r,t=RegExp([(n.escape||Wn).source,(n.interpolate||Wn).source,(n.evaluate||Wn).source].join("|")+"|$","g"),i=0,a="__p+='";if(o.replace(t,function(n,t,r,e,u){return a+=o.slice(i,u).replace(Ln,$n),i=u+n.length,t?a+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":e&&(a+="';\n"+e+"\n__p+='"),n}),a+="';\n",t=n.variable){if(!Cn.test(t))throw new Error("variable is not a bare identifier: "+t)}else a="with(obj||{}){\n"+a+"}\n",t="obj";a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(t,"_",a)}catch(n){throw n.source=a,n}function e(n){return r.call(this,n,m)}return e.source="function("+t+"){\n"+a+"}",e},result:function(n,t,r){var e=(t=_(t)).length;if(!e)return p(r)?r.call(n):r;for(var u=0;u<e;u++){var o=null==n?void 0:n[t[u]];void 0===o&&(o=r,u=e),n=p(o)?o.call(n):o}return n},uniqueId:function(n){var t=++Kn+"";return n?n+t:t},chain:function(n){return(n=m(n))._chain=!0,n},iteratee:Rn,partial:M,bind:Gn,bindAll:Hn,memoize:function(e,u){function o(n){var t=o.cache,r=""+(u?u.apply(this,arguments):n);return y(t,r)||(t[r]=e.apply(this,arguments)),t[r]}return o.cache={},o},delay:Qn,defer:Xn,throttle:function(r,e,u){function o(){l=!1===u.leading?0:O(),i=null,c=r.apply(a,f),i||(a=f=null)}function n(){var n=O(),t=(l||!1!==u.leading||(l=n),e-(n-l));return a=this,f=arguments,t<=0||e<t?(i&&(clearTimeout(i),i=null),l=n,c=r.apply(a,f),i||(a=f=null)):i||!1===u.trailing||(i=setTimeout(o,t)),c}var i,a,f,c,l=0;return u=u||{},n.cancel=function(){clearTimeout(i),l=0,i=a=f=null},n},debounce:function(t,r,e){function u(){var n=O()-i;n<r?o=setTimeout(u,r-n):(o=null,e||(f=t.apply(c,a)),o||(a=c=null))}var o,i,a,f,c,n=l(function(n){return c=this,a=n,i=O(),o||(o=setTimeout(u,r),e&&(f=t.apply(c,a))),f});return n.cancel=function(){clearTimeout(o),o=a=c=null},n},wrap:function(n,t){return M(t,n)},negate:Yn,compose:function(){var r=arguments,e=r.length-1;return function(){for(var n=e,t=r[e].apply(this,arguments);n--;)t=r[n].call(this,t);return t}},after:function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},before:Zn,once:nt,findKey:tt,findIndex:et,findLastIndex:ut,sortedIndex:ot,indexOf:at,lastIndexOf:ft,find:ct,detect:ct,findWhere:function(n,t){return ct(n,A(t))},each:N,forEach:N,map:I,collect:I,reduce:st,foldl:st,inject:st,reduceRight:pt,foldr:pt,filter:T,select:T,reject:function(n,t,r){return T(n,Yn(S(t)),r)},every:ht,all:ht,some:vt,any:vt,contains:k,includes:k,include:k,invoke:yt,pluck:dt,where:function(n,t){return T(n,A(t))},max:gt,min:function(n,e,t){var r,u,o=1/0,i=1/0;if(null==e||"number"==typeof e&&"object"!=typeof n[0]&&null!=n)for(var a=0,f=(n=E(n)?n:j(n)).length;a<f;a++)null!=(r=n[a])&&r<o&&(o=r);else e=S(e,t),N(n,function(n,t,r){((u=e(n,t,r))<i||u===1/0&&o===1/0)&&(o=n,i=u)});return o},shuffle:function(n){return jt(n,1/0)},sample:jt,sortBy:function(n,e,t){var u=0;return e=S(e,t),dt(I(n,function(n,t,r){return{value:n,index:u++,criteria:e(n,t,r)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(e<r||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")},groupBy:wt,indexBy:_t,countBy:At,partition:xt,toArray:mt,size:function(n){return null==n?0:(E(n)?n:b(n)).length},pick:Ot,omit:Mt,first:Bt,head:Bt,take:Bt,initial:Et,last:function(n,t,r){return null==n||n.length<1?null==t||r?void 0:[]:null==t||r?n[n.length-1]:R(n,Math.max(0,n.length-t))},rest:R,tail:R,drop:R,compact:function(n){return T(n,Boolean)},flatten:function(n,t){return B(n,t,!1)},without:It,uniq:Tt,unique:Tt,union:kt,intersection:function(n){for(var t=[],r=arguments.length,e=0,u=g(n);e<u;e++){var o=n[e];if(!k(t,o)){for(var i=1;i<r&&k(arguments[i],o);i++);i===r&&t.push(o)}}return t},difference:Nt,unzip:Dt,transpose:Dt,zip:Rt,object:function(n,t){for(var r={},e=0,u=g(n);e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},range:function(n,t,r){null==t&&(t=n||0,n=0),r=r||(t<n?-1:1);for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),o=0;o<e;o++,n+=r)u[o]=n;return u},chunk:function(n,t){if(null==t||t<1)return[];for(var r=[],e=0,u=n.length;e<u;)r.push(f.call(n,e,e+=t));return r},mixin:Ft,default:m});return n._=n});



/*! This file is auto-generated */
window.wp=window.wp||{},function(s){var t="undefined"==typeof _wpUtilSettings?{}:_wpUtilSettings;wp.template=_.memoize(function(e){var n,a={evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:"data"};return function(t){if(document.getElementById("tmpl-"+e))return(n=n||_.template(s("#tmpl-"+e).html(),a))(t);throw new Error("Template not found: #tmpl-"+e)}}),wp.ajax={settings:t.ajax||{},post:function(t,e){return wp.ajax.send({data:_.isObject(t)?t:_.extend(e||{},{action:t})})},send:function(a,t){var e,n;return _.isObject(a)?t=a:(t=t||{}).data=_.extend(t.data||{},{action:a}),t=_.defaults(t||{},{type:"POST",url:wp.ajax.settings.url,context:this}),(e=(n=s.Deferred(function(n){t.success&&n.done(t.success),t.error&&n.fail(t.error),delete t.success,delete t.error,n.jqXHR=s.ajax(t).done(function(t){var e;"1"!==t&&1!==t||(t={success:!0}),_.isObject(t)&&!_.isUndefined(t.success)?(e=this,n.done(function(){a&&a.data&&"query-attachments"===a.data.action&&n.jqXHR.hasOwnProperty("getResponseHeader")&&n.jqXHR.getResponseHeader("X-WP-Total")?e.totalAttachments=parseInt(n.jqXHR.getResponseHeader("X-WP-Total"),10):e.totalAttachments=0}),n[t.success?"resolveWith":"rejectWith"](this,[t.data])):n.rejectWith(this,[t])}).fail(function(){n.rejectWith(this,arguments)})})).promise()).abort=function(){return n.jqXHR.abort(),this},e}}}(jQuery);


